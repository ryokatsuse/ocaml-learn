## 再帰的なデータ構造

### バリアント型

- レコードのように複数のフィールドの集まりでいろいろな要素がどれも存在するのではなく要素がどれかひとつにしか存在しない場合の表すものがバリアント型

### 木

- 空の木、葉あるいは節からなるデータ構造のこと
  - 空の木（Empty）
  - 葉　木の一番先のこと（何かしらひとつデータを持っている）
  - 節　木の幹がわかれている箇所


```
(*木を表す型*)

type tree_t = Empty
  | Leaf of int
  | Node of tree_t * int * tree_t

```

- 最後のNodeの引数が` tree_t * int * tree_t`となっていて自己参照している
- 自己参照しているデータを扱う際の注意点として自己参照していないケースがあるか確認する必要がある
- 例えば以下のケース

```
(*節のみの木を表す型*)
type tree_t = Node of tree_t * int * tree_t
```

- 作成自体は可能だがデータを作成することはできない
  - この型のデータを作るためにはこの型の唯一の構成子Nodeを使う必要がある
  - つまり自己参照をしているデータ型を定義するときには必ず自己参照をしないケースを作る必要がある

### 再帰的なデータ構造に対するデザインレシピ

- 入出力データの型が再帰的になる時
  - まず型を定義する
  - 自己参照しないケースがあるか確認、どこに自己参照が含まれているかも確認
  - データの例を作成しておく
  - matach文を作成して再帰的データ構造の定義と1対1に対応したもの

## 二分探索木

- 節の左側の木に格納されているデータはどのデータよりも小さい
- 節の右側の木に格納されているデータは度のデータよりも大きい

## 多相型の宣言

- 木構造を表す時中身が整数しか扱えないのは木構造の本質とは関係がない。
- `'a`と書くことで多相型を作れる